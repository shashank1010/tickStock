(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{126:function(e,t,a){"use strict";a.r(t);a(72);var n=a(0),r=a.n(n),c=a(17),o=a.n(c),l=(a(77),a(24)),i=a(21),s=a(22),m=a(25),u=a(23),h=a(26),d=(a(78),a(69)),p=a.n(d),f=a(16),E=a(18),g=a(64),b=a(41),y=a.n(b),k=a(34),v=a.n(k),w=function(e){var t=e.resetStockList;return r.a.createElement(y.a,{variant:"dark",bg:"dark",expand:"lg",className:"position-sticky sticky-top"},r.a.createElement(y.a.Brand,{as:f.b,to:"/"},"Stock Ticker"),r.a.createElement(v.a,{className:"ml-auto"},r.a.createElement(v.a.Link,{eventKey:"resetStocks",onSelect:t},"Reset Stock History"),r.a.createElement(g.Detector,{render:function(e){var t=e.online;return r.a.createElement(v.a.Item,{className:"live-status my-n2 d-flex align-items-center justify-content-center px-3 ml-2 font-weight-bold ".concat(t?"bg-white text-success":"bg-danger text-white")},t?"LIVE":"OFFLINE")}})))},S=a(33),j=a.n(S),L=a(19),O=a.n(L),N=a(15),C=navigator.language||navigator.userLanguage,x=Intl.NumberFormat(C,{style:"currency",currency:"USD",currencyDisplay:"code",minimumFractionDigits:"2",maximumFractionDigits:"2"}),D=function(e){var t=e.symbol,a=e.stock,n=e.currentTime,c=a.price,o=a.history,i=o.slice(o.length-2),s=Object(l.a)(i,2),m=s[0],u=s[1],h=u?m.price<u.price:null,d={data:o.map(function(e){return e.price}),height:15,limit:25,margin:1},p=Math.floor((n-(u||m).timeStamp)/1e3),E=0===p?"just now":1===p?"1 second ago":"".concat(p," seconds ago");return r.a.createElement("tr",{className:"vert"},r.a.createElement("td",{className:"align-middle"},r.a.createElement(f.b,{to:"/".concat(t)},r.a.createElement("strong",null,t.toUpperCase()))),r.a.createElement("td",{className:"align-middle text-".concat(null===h?"":!1===h?"danger":"success")},x.format(c)),r.a.createElement("td",{className:"align-middle"},E),r.a.createElement("td",{className:"align-middle p-0"},r.a.createElement(N.Sparklines,d,r.a.createElement(N.SparklinesBars,{style:{fill:"#41c3f9",opacity:.3}}),r.a.createElement(N.SparklinesCurve,{color:"#41c3f9",style:{fill:"none"}}),r.a.createElement(N.SparklinesSpots,{size:1,spotColors:{0:"white","-1":"red",1:"green"}}))))},W=D;D.defaultProp={currentTime:Date.now()};var T=function(e){function t(){return Object(i.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.stockList,t=Object.keys(e).sort(),a=Date.now();return r.a.createElement(r.a.Fragment,null,r.a.createElement(j.a,{striped:!0,bordered:!0,hover:!0,size:"sm",className:"m-0"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"10ch"}},"Code"),r.a.createElement("th",{style:{width:"10ch"}},"Price"),r.a.createElement("th",{style:{width:"15ch"}},"Last Updated At"),r.a.createElement("th",null,"History"))),r.a.createElement("tbody",null,t.length>0&&t.map(function(t){return r.a.createElement(W,{key:t,symbol:t,stock:e[t],currentTime:a})}))),0===t.length&&r.a.createElement(O.a,{variant:"dark",className:"rounded-bottom text-center border-0 rounded-top-0"},"Loading..."))}}]),t}(r.a.Component),F=a(70),U=a(31),A=a.n(U),I=function(e){var t=e.symbol;return r.a.createElement(O.a,{variant:"info"},r.a.createElement(O.a.Heading,null,"Something seems to be wrong! We have no history found for ",r.a.createElement("strong",null,t)),r.a.createElement("p",null,"Well, this is embarrassing! Probably you are here too early, or the symbol is invalid.",r.a.createElement("br",null),"Give it some time, if the symbol is valid the it's history will show up here."),r.a.createElement("hr",null),r.a.createElement("p",{className:"mb-0"},"Feel free to navigate ",r.a.createElement(O.a.Link,{as:f.b,to:"/"},"back to the list")," and pick a symbol to view its history"))},P=function(e){function t(){return Object(i.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.stockList,a=e.symbol,n=t[a]||null,c=a.toUpperCase(),o=Object.keys(t).filter(function(e){return e!==a});if(null===n)return r.a.createElement(I,{symbol:c});var i=Object(F.a)(n.history).reverse(),s=i.map(function(e){return e.price}),m={data:s,width:100,height:20,margin:1};return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Ticker Symbol:",r.a.createElement(A.a,{as:"span",className:"d-inline-block ml-1"},r.a.createElement(A.a.Toggle,{as:"strong",variant:"link",id:"stick-list-dropdown"},c),r.a.createElement(A.a.Menu,null,o.map(function(e){return r.a.createElement(A.a.Item,{key:e,as:f.b,to:"/".concat(e)},e.toUpperCase())})))),s.length>1?r.a.createElement("div",{className:"my-3"},r.a.createElement(N.Sparklines,m,r.a.createElement(N.SparklinesCurve,{color:"#41c3f9",style:{fill:"lightslategray"}}),r.a.createElement(N.SparklinesSpots,{size:1,spotColors:{0:"white","-1":"red",1:"green"}}),r.a.createElement(N.SparklinesReferenceLine,{type:"mean"}))):r.a.createElement(O.a,{variant:"info",className:"text-center"},"Graph will be load here when more data is available."),r.a.createElement(j.a,{striped:!0,bordered:!0,hover:!0,size:"sm",className:"m-0"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"5ch"}}),r.a.createElement("th",null,"Price"),r.a.createElement("th",null,"Difference"),r.a.createElement("th",null,"Date"),r.a.createElement("th",null,"Time"))),r.a.createElement("tbody",null,i.map(function(e,t,a){var n=e.price,c=e.timeStamp,o=new Date(c).toLocaleString().split(","),s=Object(l.a)(o,2),m=s[0],u=s[1],h=t+1===i.length,d=!h&&n-i[t+1].price,p=h?"-":x.format(Math.abs(d)),f=h?"":d>0?"danger":"success";return r.a.createElement("tr",{key:t},r.a.createElement("td",null,a.length-t),r.a.createElement("td",null,x.format(n)),r.a.createElement("td",{className:f&&"text-".concat(f)},p),r.a.createElement("td",null,m),r.a.createElement("td",null,u))}))))}}]),t}(r.a.Component),R=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={stockList:{},config:{showHistogram:!1,showSparks:!0}},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.connection=new WebSocket("ws://stocks.mnet.website"),this.connection.onmessage=this.updateStocks.bind(this),this.connection.onclose=function(t){console.log(t),e.setState({connectionError:!0})}}},{key:"updateStocks",value:function(e){var t=e.data,a=JSON.parse(t),n=Date.now(),r=this.state.stockList;a.forEach(function(e){var t=Object(l.a)(e,2),a=t[0],c=+t[1];r[a]?(r[a].price=c,r[a].history.push({price:c,timeStamp:n})):r[a]={price:c,history:[{price:c,timeStamp:n}]}}),this.setState({stockList:r})}},{key:"resetStockList",value:function(){this.setState({stockList:{}})}},{key:"render",value:function(){var e=this.state.stockList,t={stockList:e};return r.a.createElement(f.a,{className:"stock-ticker-app"},r.a.createElement(w,{resetStockList:this.resetStockList.bind(this)}),r.a.createElement(p.a,{className:"py-3"},r.a.createElement(E.c,null,r.a.createElement(E.a,{exact:!0,path:"/",children:function(){return r.a.createElement(T,t)}}),r.a.createElement(E.a,{path:"/:symbol",children:function(t){var a=t.match.params.symbol.toLowerCase(),n={stockList:e,symbol:a};return r.a.createElement(P,n)}}))))}}]),t}(r.a.Component),z=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function B(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}o.a.render(r.a.createElement(R,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("","/service-worker.js");z?(function(e,t){fetch(e).then(function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):B(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):B(t,e)})}}()},71:function(e,t,a){e.exports=a(126)},77:function(e,t,a){},78:function(e,t,a){}},[[71,1,2]]]);
//# sourceMappingURL=main.d23d7f28.chunk.js.map